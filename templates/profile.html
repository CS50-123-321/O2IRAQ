<!DOCTYPE html>
<html lang="en">
<head>
    {{ fontawesome_html() }}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://file.myfontastic.com/QcwnemQyaiC6zhWfDbGgvE/icons.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-color/2.1.2/jquery.color.min.js"></script>

    <link rel="stylesheet" href="../static/bootstrap.min.css">
    <link rel="stylesheet" href="../static/fontawesome.min.css">
    <link rel="stylesheet" href="../static/all.min.css">
    <link rel="stylesheet" href="../static/profile.css">

    <title>Profile</title>
    <style>
      #follow-button {
      color: #3399FF;
      font-family: "Helvetica";
      font-size: 10pt;
      background-color: #ffffff;
      border: 1px solid;
      border-color: #3399FF;
      border-radius: 3px;
      width: 85px;
      height: 30px;
      position: absolute;
      top: 50px;
      left: 50px;
      cursor: hand;
      }
    </style>
</head>
<body>
            <nav class="navbar navbar-default">    
            <div class="container">
                <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">O2<span>Iraq</span></a>
                <input type="text" placeholder="Search" id="ser">
                <i class="fas fa-search" for="ser"></i>
                
                </div>
        
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">   
                <li><a href="/home"><i class="fas fa-user"></i></a></li>

                <li><a href="logout"><i class="fas fa-sign-out-alt"></i></a></li>
                </ul>
                </div><!-- /.navbar-collapse -->
            </div><!-- /.container-fluid -->
            </nav>

             <!--End Navbar-->
         <div class="backtop"></div>
        <!--start profile picture-->
         <div class="pro">
             <div class="row">
                 <div class="col-md-4">
                     <div class="image-pro">
                        <img src="../static/aya.jpg">
                     </div>
                 </div>
                 <div class="col-md-8">
                     <div class="content-pro">
                         <h3>{{ user_name }}</h3>
                                                          -------
                                <form method="post" action="/uploading_pic" ENCTYPE="multipart/form-data">
                                    <div class="container">
                                        <div class="col-sm">
                                            <div class="upload-btn-wrapper">
                                                <button class="btn">Choose Photos</button>
                                                <input type="file" name="profile_pic" />
                                            </div>
                                        </div>
                                    </div>

                                </form>
                         <button id="follow-button">+ Follow</button>

                                --------

                         <h3>Welcome to my profile.</h3>
                     </div>
                 </div>
             </div>
         </div>
         <!--End profile picture-->

        <!--start profile skilis & information-->
         <div class="information">
             <div class="container">
                 <h2>About Me</h2>
                 <div class="row">
                     <div class="col-md-4">
                         <div class="info infooo text-center">
                            <h3>Information</h3>
                            <span>Country : Iraq-{{ user_city }}</span>
                            <span>Birth : {{ user_bd }}</span>
                            <span>Gender : {{ user_sex }}</span>
                            <span>Job : {{ user_job }}</span>
                         </div>
                     </div>
                     <div class="col-md-4">
                        <div class="info text-center">
                            <h3>about me</h3>
                            <p>I am a smart and handsome young man, my title is the master and I work in every important and sensitive place so there are a lot of secret organizations chasing me, this is me and this is how I live <br>I love you all</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="info contact text-center">
                            <h3>contact me</h3>
                            <span><i class="fas fa-phone-alt"></i></span>
                            <span> 009647800799163(mobile)</span>
                            <div class="social">
                                <i class="fab fa-facebook-square"></i>
                                <span> {{ user_name}}</span><br>
                                <i class="far fa-envelope"></i>
                                <span> {{ user_email }}</span><br>
                                <i class="fab fa-instagram"></i>
                                <span>{{ user_name}}</span>





                            </div>
                        </div>
                    </div>
                 </div>
             </div>

         </div>

       <!--End profile skilis & information-->

       <!--End profile skilis & information-->


       <div class="color">
{% for post in posts %}
        <div class="container">

             <div class="shear">
                 <div class="image-shear">
                     <img src="../static/person.jpg" alt="">
                     <span>{{ post.user_name }}</span>
                     <span></span>
                 </div>
                 <div class="info-shear">
                     <p>{{ post.post }}</p>
                     <img src="../static/neature.jpg" alt="">
                 </div>
                 <div class="openin">
                     <div class="row">
                         <div class="col-md-3">
                             <div class="reaction1">

                                <div class="like liked" id="reaction" style="font-size: 20px;">
                                    <i class="icon-fas-fa-tree" id="likess"></i>
                                    <span id="like-count">99 <strong>likes</strong></span>
                                </div>
                             </div>
                         </div>

                         </div>
                         <div class="col-md-3">
                             <div class="reaction3">
                                 <label>
                                     <input type="text" name="comment" placeholder="Type Your Comment">
                                 </label>
                             </div>

                         </div>
                     </div>

             </div>

         </div>
    </div>

{% endfor %}


</body>
<script>
    $(document).ready(function(){

  $("#follow-button").click(function(){
    if ($("#follow-button").text() === "+ Follow"){
      // *** State Change: To Following ***
      // We want the button to squish (or shrink) by 10px as a reaction to the click and for it to last 100ms
      $("#follow-button").animate({ width: '-=10px' }, 100, 'easeInCubic', function () {
              let dict = {Follow : 1};
              $.ajax({
                    type: "POST",
                    url: "http://127.0.0.1:5000/profile",
                    data: JSON.stringify(dict),
                    dataType: 'json',
                    contentType: "application/json;charset=UTF-8",
                    success: function (e) {
                                console.log(e);
                            },
                    error: function(error) {
                            console.log(error);
                        }
                });
      });

      // then now we want the button to expand out to it's full state
      // The left translation is to keep the button centred with it's longer width
      $("#follow-button").animate({ width: '+=45px', left: '-=15px' }, 600, 'easeInOutBack', function () {
        $("#follow-button").css("color", "#fff");
        $("#follow-button").text("Following");

        // Animate the background transition from white to green. Using JQuery Color
        $("#follow-button").animate({
          backgroundColor: "#2EB82E",
          borderColor: "#2EB82E"
        }, 1000 );

      });
    }else{

      // *** State Change: Unfollow ***
      // Change the button back to it's original state
      $("#follow-button").animate({ width: '-=25px', left: '+=15px' }, 600, 'easeInOutBack', function () {
        $("#follow-button").text("+ Follow");
        $("#follow-button").css("color", "#3399FF");
        $("#follow-button").css("background-color", "#ffffff");
        $("#follow-button").css("border-color", "#3399FF");
            let dict = {Follow : 0};
            $.ajax({
                type: "POST",
                url: "http://127.0.0.1:5000/profile",
                data: JSON.stringify(dict),
                dataType: 'json',
                contentType: "application/json;charset=UTF-8",
                success: function (e) {
                            console.log(e);
                        },
                error: function(error) {
                        console.log(error);
                    }
            });
      });
    }
  });
});
</script>
</html>
